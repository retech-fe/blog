---
title: 域名解析 | A记录 ，CNAME，MX你懂了吗？
date: 2022-08-23 13:11:02
categories: 计算机网络
tags: 网络
excerpt: 主要讲解使用A记录和CNAME的概念及进行域名解析的区别。
author: pengfei.zuo
---

## 域名解析

什么是域名解析？

域名解析就是国际域名、国内域名、中文域名等域名申请后做的到IP地址的转换过程。IP地址是网路上标识您站点的数字地址，为了简单好记，采用域名来代替ip地址标识站点地址。域名的解析工作由`DNS`服务器完成。

如下图，百度 `www.baidu.com` 就是域名，解析出来的`IP` `39.156.66.10` 这个过程就是域名解析。
![](https://files.mdnice.com/user/13996/cd5eff55-8573-4395-8e7f-80d319fc85cf.png)


## A 记录

`A (Address)记录`是用来指定主机名（或域名）对应的IP地址记录。用户可以将该域名下的网站服务器指向到自己的`web server`上。同时也可以设置您域名的二级域名。

又称IP指向，用户可以在此设置子域名并指向到自己的目标主机地址上，从而实现通过域名找到服务器。

  指向的目标主机地址类型只能使用IP地址；
  
  - 1.如何添加A记录
  
  在“主机名”中填入子域的名字，“类型”为A，“IP地址/主机名”中填入web服务器的IP地址，点击“新增”按钮即可。
  
  注：如果“主机名”一栏为空则表示对域名mydomain.com本身做指向。
  
  - 2.泛域名解析
  
  即将该域名所有未指定的子域名都指向一个空间。
  
  在“主机名”中填入*，“类型”为A，“IP地址/主机名”中填入web服务器的IP地址。
  
## CNAME记录

  通常称别名指向。
  
  这种记录允许您将多个名字映射到另外一个域名。
  
  您可以为一个主机设置别名。比如设置test.mydomain.com，用来指向一个主机www.rddns.com那么以后就可以用test.mydomain.com来代替访问www.rddns.com了。
  
  - CNAME的目标主机地址只能使用主机名，不能使用IP地址；
  
  - 主机名前不能有任何其他前缀，如：http://等是不被允许的；
  
  - A记录优先于CNAME记录。即如果一个主机地址同时存在A记录和CNAME记录，则CNAME记录不生效。
 

## MX 记录

  邮件交换记录。
  
  用于将以该域名为结尾的电子邮件指向对应的邮件服务器以进行处理。如：用户所用的邮件是以域名mydomain.com为结尾的，则需要在管理界面中添加该域名的MX记录来处理所有以@mydomain.com结尾的邮件。
  
  - MX记录可以使用主机名或IP地址；
  
  - MX记录可以通过设置优先级实现主辅服务器设置，“优先级”中的数字越小表示级别越高。也可以使用相同优先级达到负载均衡的目的；
  
  - 如果在“主机名”中填入子域名则此MX记录只对该子域名生效。
 

## 使用A记录和CNAME进行域名解析的区别?

A记录就是把一个域名解析到一个IP地址（Address，特制数字IP地址），而CNAME记录就是把域名解析到另外一个域名。

其功能是差不多，CNAME将几个主机名指向一个别名，其实跟指向IP地址是一样的，因为这个别名也要做一个A记录的。

但是使用CNAME记录可以很方便地变更IP地址。如果一台服务器有100个网站，他们都做了别名，该台服务器变更IP时，只需要变更别名的A记录就可以了。

## 使用A记录和CNAME哪个好？

域名解析CNAME记录A记录哪一种比较好？

如果论对网站的影响，就没有多大区别。但是：CNAME有一个好处就是稳定，就好像一个IP与一个域名的区别。服务商从方便维护的角度，一般也建议用户使用CNAME记录绑定域名的。如果主机使用了双线IP，显然使用CNAME也要方便一些。

A记录也有一些好处，例如可以在输入域名时不用输入WWW.来访问网站哦！从SEO优化角度来看，一些搜索引擎如alex或一些搜索查询工具网站等等则默认是自动去掉WWW.来辨别网站，CNAME记录是必须有如：WWW(别名)前缀的域名，有时候会遇到这样的麻烦，前缀去掉了默认网站无法访问。

有人认为，在SEO优化网站的时候，由于搜索引擎找不到去掉WWW.的域名时，对网站权重也会有些影响。因为有些网民客户也是不喜欢多写三个W来访问网站的，网站无法访问有少量网民客户会放弃继续尝试加WWW.访问域名了，因此网站访问浏览量也会减少一些。


也有人认为同一个域名加WWW.和不加WWW.访问网站也会使网站权重分散，这也是个问题。但是可以使用301跳转把不加WWW.跳转到加WWW.的域名，问题就解决了


